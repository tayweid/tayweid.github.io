---
format:
  revealjs:
    css: custom.css
    transition: none
---

## ECON 0150 | Economic Data Analysis {.center}
<p class="subheader-center">The economist's data analysis skillset.</p>

<br> 

### *Part 1.4 | Transforming Data*

---

## Coffee Prices
<p class="subheader">Do you notice a **trend** in price?</p>

![](i/i_cpi_01.png)

---

## Coffee Prices
<p class="subheader">Do you notice a **trend** in price?</p>

![](i/i_cpi_01.png)

*> was coffee about as expensive in 1980 as it is today?*

---

## Coffee Prices: Nominal vs Real Prices
<p class="subheader">Do you notice a **trend** in price?</p>

![](i/i_cpi_02.png)

*> no! a dollar today is worth much less than in 1980!*

. . .

*> adjusting for inflation makes the picture clearer*

---

## Real Coffee Prices: Adjust For Inflation
<p class="subheader">Do you notice a **trend** in price?</p>

![](i/i_cpi_03.png)

. . .

*> prices have dropped a lot since 1970 and have been stable since 2000*

---

## Exercise 1.4 | Real Price Adjustment
<p class="subheader">Is there a trend in the real price of coffee?</p>

<br><br>

Lets transform coffee prices from nominal dollars to real dollars.

- **Data:** `Coffee_Prices_CPI.csv`

---

## Total GDP by Country
<p class="subheader">Which country has the **largest economy**?</p>

![](i/i_pc_01.png)

. . .

*> the US and China dominate — their economies are massive*

---

## Total GDP by Country
<p class="subheader">Which country is **richest**?</p>

![](i/i_pc_01.png)

*> wait — is "largest economy" the same as "richest"?*

---

## GDP per Capita
<p class="subheader">Which country is **richest**?</p>

![](i/i_pc_02.png)

. . .

*> dividing by population completely changes the picture!*

---

## GDP per Capita
<p class="subheader">Which country is **richest**?</p>

![](i/i_pc_02.png)

*> Luxembourg, Switzerland, Norway — small populations, high living standards*

---

## Exercise 1.4 | Per Capita Adjustment
<p class="subheader">How does dividing by population change the ranking?</p>

<br><br>

Lets transform total GDP to GDP per capita.

- **Data:** `GDP_Population_2019.csv`

---

## Scatterplot: Linear Scale
<p class="subheader">Q. Is there a relationship between GDP and coffee production?</p>

![](i/c_04.png)

. . .

*> a scatterplot effectively visualizes scross sectional data with two dimensions*

---

## Scatterplot: Linear Scale
<p class="subheader">Which countries produce less coffee per dollar than Brazil?</p>

![](i/c_05.png)

*> separating lines can help make comparisons between ratios*

---

## Scatterplot: Linear Scale
<p class="subheader">Which countries produce less coffee per dollar than Brazil?</p>

![](i/c_06.png)

*> separating lines can help make comparisons between ratios*

---

## Scatterplot: Linear Scale
<p class="subheader">Which countries produce more coffee per dollar than Brazil?</p>

![](i/c_07.png)

*> separating lines can help make comparisons between ratios*

---

## Scatterplot: Linear Scale
<p class="subheader">How does GDP relate to coffee production?</p>

![](i/c_09.png)

. . .

*> small values are bunched; large data is very separated*

---

## Scatterplot: Log Scale
<p class="subheader">How does GDP relate to coffee production?</p>

![](i/c_10.png)

*> we can fix this by applying a log transformation*

---

## Scatterplot: Log Scale
<p class="subheader">How does GDP relate to coffee production?</p>

![](i/c_10.png)

*> looks positive, but we'll formally test this in Part 4*

---

## Exercise 1.4 | Log Transformation
<p class="subheader">How does GDP relate to coffee production?</p>

```{python}
file_path = 'https://tayweid.github.io/econ-0150/parts/part-1-5/data/'
gdp = pd.read_csv(file_path + 'Beans_GDP_2019.csv', index_col=0)
gdp.head()
```

---

## Exercise 1.4 | Log Transformation
<p class="subheader">How does GDP relate to coffee production?</p>

```{.python}
# Log both x and y variables
gdp['log_GDP'] = np.log(gdp['GDP'])
gdp['log_prod'] = np.log(gdp['coffee_prod'])
```

. . .

```{.python}
# Plot the log variables
sns.scatterplot(gdp, y='log_prod', x='log_GDP')
```

. . .

![](i/c_10.png)

---

## Exercise 1.4 | Log Transformation
<p class="subheader">How does GDP relate to coffee production?</p>

```{.python}
# Use a log scale without transforming the variable
sns.scatterplot(gdp, y='coffee_prod', x='GDP')
plt.xscale('log')
plt.yscale('log')
```

---

## Scatterplot: Log Scale
<p class="subheader">How does GDP relate to coffee production in the Americas?</p>

![](i/c_10.png)

. . .

*> lets use a filter with this data*

---

## Filtering Data: next time!
<p class="subheader">How does GDP relate to coffee production in the Americas?</p>

![](i/c_11.png)

. . .

*>*