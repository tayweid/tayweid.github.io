---
format:
  revealjs:
    css: custom.css
    transition: none
---

## ECON 0150 | Economic Data Analysis {.center}
<p class="subheader-center">The economist's data analysis skillset.</p>

<br> 

### *Part 1.3 | Time Series (Numerical) Data*

---

## Time Series Numerical Data
<p class="subheader">Tracking a numerical variable over time</p>

. . .

*> Time series data: one entity, many points in time*

. . .

*> Numerical variable: values that change over time (price, GDP, temperature)*

. . .

*> Key question: What are the trends and patterns over time?*

---

## Timeseries: Coffee Prices
<p class="subheader">What price should we expect in January 2026?</p>

. . .

| date | price |
|------|-------|
| 2000-01-03 | 1.0545 |
| 2000-01-04 | 1.0300 |
| 2000-01-05 | 1.0550 |
| 2000-01-06 | 1.0225 |
| 2000-01-07 | 1.0250 |
| ... | ... |

. . .

*> how might we use this data to predict the price in January 2026?*

---

## Timeseries: Coffee Prices
<p class="subheader">What price should we expect in January 2026?</p>

![](i/i_01.png)

. . .

*> it's difficult to know... do we choose the mode?*

. . .

*> lets just organize prices by their ordered index, time*

---

## Timeseries: Coffee Prices
<p class="subheader">What price should we expect in January 2026?</p>

![](i/i_02.png)

. . .

*> lets indicate with a line that these points are in squence*

---

## Timeseries: Line Graph
<p class="subheader">What price should we expect in January 2026?</p>

![](i/i_03.png)

---

## Timeseries: Trends
<p class="subheader">Do you notice a **trend** in price?</p>

![](i/i_03.png)

. . .

*> there was a **positive trend** in 2021*

. . .

*> we can zoom out to get a bigger picture*

---

## Timeseries: Trends + Subtrends
<p class="subheader">Do you notice a **trend** in price?</p>

![](i/i_04.png)

. . .

*> how have prices changed since 2000?*

. . .

*> prices have increased somewhat, with many periods of decrease*

---

## Timeseries: Background Shading
<p class="subheader">What price should we expect in January 2026?</p>

![](i/i_05.png)

*> with background shading its easier to see periods with a negative trend in price*

---

## Exercise 1.3 | Timeseries

<br><br>

Lets use a linegraph to examine the trends in coffee prices.

- **Data:** `Coffee_Prices.csv`

---

## Exercise 1.3 | Timeseries

```{.python}
# Lineplot
sns.lineplot(prices, y='price', x='date')
```

. . .

![](i/i_07.png)

---

## S-T-E for Line Graphs
<p class="subheader">What we just did</p>

| Step | Action |
|------|--------|
| SELECT | Coffee prices 2015-2025 |
| TRANSFORM | Order by date |
| ENCODE | Date → x-position; Price → y-position; Sequence → connected line |

. . .

*> ENCODE uses position for both time and value — the line shows sequence*

---

## Timeseries: Longer Periods
<p class="subheader">Are prices over long periods comparable?</p>

![](i/i_cpi_01.png)

. . .

*> was coffee about as expensive in 1980 as it is today?*

---

## Timeseries: Longer Periods
<p class="subheader">A dollar in 1980 ≠ a dollar in 2025</p>

![](i/i_cpi_02.png)

*> no! a dollar today is worth much less than in 1980*

. . .

*> we need to adjust for inflation to compare across time*

---

## Real Coffee Prices
<p class="subheader">Adjusting for inflation changes the picture</p>

![](i/i_cpi_03.png)

. . .

*> prices have actually dropped since 1980 and stabilized since 2000*

---

## Exercise 1.3 | Real Price Adjustment
<p class="subheader">Is there a trend in the real price of coffee?</p>

<br><br>

Lets transform coffee prices from nominal dollars to real dollars.

- **Data:** `Coffee_Prices_CPI.csv`

---

## Exercise 1.3 | Real Price Adjustment
<p class="subheader">Is there a trend in the real price of coffee?</p>

. . .

```{.python}
# Create real price column
data['real'] = data['price'] / data['today']
```

. . .

```{.python}
# Lineplot of real prices
sns.lineplot(data, x='date', y='real')
```

. . .

![](i/i_cpi_03.png)

---

## S-T-E for Real Price Adjustment
<p class="subheader">What we just did</p>

| Step | Action |
|------|--------|
| SELECT | Coffee prices 1980-2025 with CPI data |
| TRANSFORM | Divide nominal price by CPI adjustment factor |
| ENCODE | Date → x-position; Real price → y-position; Sequence → connected line |

. . .

*> TRANSFORM converts nominal dollars to real (inflation-adjusted) dollars*

---

## Timeseries: Original Question
<p class="subheader">What price should we expect in January 2026?</p>

![](i/i_06.png)

. . .

*> timeseries lineplots show us about the trends but is there something specific in January?*

---

## Seasonality: January
<p class="subheader">What price should we expect in January 2026?</p>

![](i/i_08.png)

*> a boxplot gives us a picture of the prices just in January*

. . .

*> lets compare this to other months*

---

## Seasonality: Monthly Boxplots
<p class="subheader">In addition to the overall trend, are there monthly patterns?</p>

![](i/i_09.png)

. . .

*> lets be more specific...*

---

## Seasonality: Monthly Boxplots
<p class="subheader">In which month was the record highest price set?</p>

![](i/i_09.png)

---

## Seasonality: Monthly Boxplots
<p class="subheader">In which month was the record highest price set?</p>

![](i/i_10_max.png)

*> look at the maximums*

---

## Seasonality: Monthly Boxplots
<p class="subheader">In which month was the record highest price set?</p>

![](i/i_11.png)

---

## Seasonality: Monthly Boxplots
<p class="subheader">In which season are prices most spread out?</p>

![](i/i_09.png)

---

## Seasonality: Monthly Boxplots
<p class="subheader">In which season are prices most spread out?</p>

![](i/i_10_range.png)

*> look at the ranges*

---

## Seasonality: Monthly Boxplots
<p class="subheader">In which season are prices most spread out?</p>

![](i/i_12.png)

---

## Seasonality: Multi-Boxplot
<p class="subheader">What is the trend in median price?</p>

![](i/i_10_median.png)

*> look at the medians...*

---

## Seasonality: Quartile Lineplot
<p class="subheader">What is the trend in median price?</p>

![](i/i_14.png)

---

## Seasonality: Quartile Lineplot
<p class="subheader">What is the difference between the largest and the smallest median price per pound?</p>

![](i/i_14.png)

. . .

*> something like $1.30 - $1.21 = $0.09*

---

## Timeseries: Summary
<p class="subheader">Linegraphs show trends; multi-boxplots show between-period patterns.</p>

<br><br>

:::{.incremental}
- Use a ***linegraph*** to show a numerical variable through time.
- Highlight changes in a linegraph using ***shading***.
- Use a ***multi-boxplot*** to show the distribution between multiple periods.
:::

---

## Exercise 1.3 | Seasonality

<br><br>

Lets use a multi-boxplot to examine the seasonal patterns of coffee prices.

- **Data:** `Coffee_Prices.csv`

---

## Exercise 1.3 | Seasonality

```{.python}
# Multi-Boxplot
sns.boxplot(prices, y='month', x='price', whis=(0,100))
```

. . .

![](i/i_09.png)

---

## S-T-E for Multi-Boxplots
<p class="subheader">What we just did</p>

| Step | Action |
|------|--------|
| SELECT | Coffee prices 2000-2025 |
| TRANSFORM | Group by month; calculate quartiles within each group |
| ENCODE | Month → y-position; Price quartiles → box elements |

. . .

*> TRANSFORM groups by time period, then summarizes within each group*

---

## Building Blocks
<p class="subheader">What this unit adds to your toolkit</p>

| Block | Part 1.3 |
|-------|------------|
| Variables | Numerical |
| Structures | Timeseries |
| Operations | Real price transformation; group by period |
| Visualizations | Line plot; Multi-boxplot |

. . .

<br><br>

*> Next: **Panel Data** with both entity and time indexes!*
