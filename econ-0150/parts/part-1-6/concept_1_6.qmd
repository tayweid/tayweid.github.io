---
format:
  revealjs:
    css: custom.css
    transition: none
    aspect-ratio: "16:9"
---

## ECON 0150 | Economic Data Analysis {.center}
<p class="subheader-center">The economist's data analysis skillset.</p>

<br> 

### *Part 1.6 | Relationships In Space*

---

## Geographic Data
<p class="subheader"> Some types of relationships in space</p>

<br><br>

:::{.incremental}
- Geographic data is data organized on three axes (latitude, longitude, altitude)
- We typically only use latitude and longitude
- Geo data is often combined with other variables like population
- Two main types of geo data: points, shapes
- We sometimes observe points, but most data comes in groups
:::

---

## Example: Restaurants by Zipcode
<p class="subheader"> Are there fewer restaurants further from downtown Pittsburgh?</p>

Weâ€™re going to use a Census maps and openly available data on restaurant locations to answer this question.

- **Data:** `Census Shapefiles` and `Open Street Maps`

---

## Geographic Data
<p class="subheader"> Maps are (typically) plots on two axis</p>

*> a basic map of Pittsburgh*

![](i/1.png)

---

## Geographic Data
<p class="subheader"> Maps can show any level of detail available in the data</p>

*> a map of Pittsburgh Zipcodes*

![](i/2.png)

---

## Geographic Data
<p class="subheader"> We can add information: colors</p>

*> a map of Pittsburgh Zipcode populations*

![](i/3.png)

---

## Geographic Data
<p class="subheader"> We can add information: colors</p>

*> a map of Pittsburgh Zipcode populations: interactive!*

<iframe src="i/3.html" width="100%" height="500px"></iframe>

---

## Geographic Data
<p class="subheader"> Maps can also show points</p>

*> some restaurants in Pittsburgh!*

![](i/4.png)

---

## Geographic Data
<p class="subheader"> Maps can also show points</p>

<iframe src="i/4.html" width="100%" height="500px"></iframe>

---

## Geographic Data
<p class="subheader"> Maps can also show points</p>

<br>

:::{.incremental}
- Points are nice but we typically can't use them raw
- Some point transformations: distances between points; group by area; etc
- We can also relate points to other variables (eg. zipcode population for each restaurant)
:::

---

## Geographic Data Example: Nunn (2008)
<p class="subheader"> Did the historical trade of enslaved people impact modern economic development in Africa?</p>

. . .

**Method:** Uses historical data and the distance from major ports

. . .

**Findings:** Areas more disrupted by enslavement have lower GDP today, due to:

  - **Weakened institutions** (political fragmentation, mistrust).
  - **Disrupted societies** (population loss, economic stagnation).

. . .

**Implication:** Historical shocks can have persistent economic effects.

---

## Geographic Data Example: Weidman (2024)
<p class="subheader"> Does the party of your neighbors impact your decision to vote?</p>

. . .

<iframe src="data/data_2_geocode.html" width="100%" height="500px"></iframe>

---

## Geographic Data Example: Weidman (2024)
<p class="subheader"> My dissertation involved measuring distances between voters</p>

![](i/Figure_D2.png)

---

## Geographic Data
<p class="subheader"> Are there fewer restaurants further from downtown Pittsburgh?</p>

*> lets get back to our question!*

---

## Geographic Data
<p class="subheader"> Are there fewer restaurants further from downtown Pittsburgh?</p>

![](i/4.png)

---

## Geographic Data
<p class="subheader"> Are there fewer restaurants further from downtown Pittsburgh?</p>

**Steps:**

. . .

- Measure points by zipcode area

. . .

- Measure distances between groups (take the centroid, etc)

---

## Geographic Data
<p class="subheader"> Subquestion 1: how many restaurants are in each Pittsburgh zipcode?</p>

. . .

![](i/5.png)

---

## Geographic Data
<p class="subheader"> Subquestion 2: how far is each zipcode from downtown?</p>

![](i/6_pre.png)

. . .

*> measure from the center (centroid) of the zipcode*

---

## Geographic Data
<p class="subheader"> Subquestion 2: how far is each zipcode from downtown?</p>

![](i/6.png)

*> measure from the center (centroid) of the zipcode*

---

## Geographic Data
<p class="subheader"> Subquestion 2: how far is each zipcode from downtown?</p>

![](i/6a.png)

. . .

*> what's the distribution?*

---

## Geographic Data
<p class="subheader"> Subquestion 2: how far is each zipcode from downtown?</p>

![](i/6b.png)

. . .

*> we now have enough to answer our main question!*

---

## Geographic Data
<p class="subheader"> Are there fewer restaurants in areas further from downtown Pittsburgh?</p>

. . .

![](i/7.png)

---

## Homework 1.6 | US City Population and Temp
<p class="subheader"> </p>

We're going to use data on locations (`lat`, `lng`), `population`, and temperature (`avg_temp`) of US cities to map temerature and examine whether there is a relationship between latitute (north/south) is related to temperature.

- **Data:** `US_Cities.csv` and `Eastern_Cities.csv`

---

# Part 1 Wrap Up

```{python}
# Imports
import pandas as pd
import matplotlib.pyplot as plt
import seaborn as sns
```

---

## Exercise 1: Employment Status
<p class="subheader"> What 1) are the dimensions of this dataset, and 2) an effecitve visualization? </p>

A dataset on the employment status of individuals.

```{python}
# Employment status data
data = pd.read_csv('data/wrapup_01.csv', index_col=0)
data.head().style.hide(axis="index")
```

. . .

Data Dimensions:

1. **Data Structure**: Cross-Sectional
2. **Number of Variables**: Univariate
3. **Variable Type(s)**: Binary Categorical

---

## Exercise 1: Employment Status
<p class="subheader"> What 1) are the dimensions of this dataset, and 2) an effecitve visualization? </p>

![](i/wrapup_01.png)

A ***Barplot*** effectively visualizes

1. Cross-Sectional
2. Binary Categorical
3. Univeriate

---

## Exercise 2: Employment Industry
<p class="subheader"> What 1) are the dimensions of this dataset, and 2) an effecitve visualization? </p>

A dataset on the employment sector of individuals.

```{python}
# Industry sectors
data = pd.read_csv('data/wrapup_02.csv', index_col=0)
data.head().style.hide(axis="index")
```

. . .

Data Dimensions:

1. **Data Structure**: Cross-Sectional
2. **Number of Variables**: Univariate
3. **Variable Type(s)**: Nominal Categorical

---

## Exercise 2: Employment Industry
<p class="subheader"> What 1) are the dimensions of this dataset, and 2) an effecitve visualization? </p>

![](i/wrapup_02.png)

A ***Barplot*** effectively visualizes

1. Cross-Sectional
2. Nominal Categorical
3. Univeriate

---

## Exercise 3: Educational Attainment
<p class="subheader"> What 1) are the dimensions of this dataset, and 2) an effecitve visualization? </p>

A dataset on the educational attainment of individuals.

```{python}
# Education levels
data = pd.read_csv('data/wrapup_03.csv', index_col=0)
data.head().style.hide(axis="index")
```

. . .

Data Dimensions:

1. **Data Structure**: Cross-Sectional
2. **Number of Variables**: Univariate
3. **Variable Type(s)**: Ordinal Categorical

---

## Exercise 3: Educational Attainment
<p class="subheader"> What 1) are the dimensions of this dataset, and 2) an effecitve visualization? </p>

![](i/wrapup_03.png)

A ***Barplot*** *(or histogram)* effectively visualizes

1. Cross-Sectional
2. Ordinal Categorical
3. Univeriate

---

## Exercise 4: Annual Income
<p class="subheader"> What 1) are the dimensions of this dataset, and 2) an effecitve visualization? </p>

A dataset on annual individual income.

```{python}
# Income data
data = pd.read_csv('data/wrapup_04.csv', index_col=0)
data.head().style.hide(axis="index")
```

. . .

Data Dimensions:

1. **Data Structure**: Cross-Sectional
2. **Number of Variables**: Univariate
3. **Variable Type(s)**: Numerical

---

## Exercise 4: Annual Income
<p class="subheader"> What 1) are the dimensions of this dataset, and 2) an effecitve visualization? </p>

![](i/wrapup_04.png)

A ***Histogram*** *(or boxplot)* effectively visualizes

1. Cross-Sectional
2. Numerical
3. Univeriate

---

## Exercise 5: Employment by Education
<p class="subheader"> What 1) are the dimensions of this dataset, and 2) an effecitve visualization? </p>

A dataset on employment by education level.

```{python}
# Income data
data = pd.read_csv('data/wrapup_05.csv', index_col=0)
data.head().style.hide(axis="index")
```

. . .

Data Dimensions:

1. **Data Structure**: Cross-Sectional
2. **Number of Variables**: Bivariate
3. **Variable Type(s)**: Categorical by Categorical

---

## Exercise 5: Employment by Education
<p class="subheader"> What 1) are the dimensions of this dataset, and 2) an effecitve visualization? </p>

We didn't cover how to visualize categorical by categorical bivariate data.

---

## Exercise 6: Income by Education
<p class="subheader"> What 1) are the dimensions of this dataset, and 2) an effecitve visualization? </p>

A dataset on annual individual income by education.

```{python}
# Income by education level
data = pd.read_csv('data/wrapup_06.csv', index_col=0)
data.head().style.hide(axis="index")
```

. . .

Data Dimensions:

1. **Data Structure**: Cross-Sectional
2. **Number of Variables**: Bivariate
3. **Variable Type(s)**: Numerical by Categorical

---

## Exercise 6: Income by Education
<p class="subheader"> What 1) are the dimensions of this dataset, and 2) an effecitve visualization? </p>

![](i/wrapup_06.png)

A ***Multi-Boxplot*** *(or multi-linegraph-histogram)* effectively visualizes

1. Cross-Sectional
2. Numerical by Categorical
3. Biveriate

---

## Exercise 7: Income by Age
<p class="subheader"> What 1) are the dimensions of this dataset, and 2) an effecitve visualization? </p>

A dataset on annual individual income by age.

```{python}
# Income vs Age
data = pd.read_csv('data/wrapup_07.csv', index_col=0)
data.head().style.hide(axis="index")
```

. . .

Data Dimensions:

1. **Data Structure**: Cross-Sectional
2. **Number of Variables**: Bivariate
3. **Variable Type(s)**: Numerical by Numerical

---

## Exercise 7: Income by Age
<p class="subheader"> What 1) are the dimensions of this dataset, and 2) an effecitve visualization? </p>

![](i/wrapup_07.png)

A ***Scatterplot*** effectively visualizes

1. Cross-Sectional
2. Numerical
3. Biveriate

---

## Exercise 8: GDP After 2015
<p class="subheader"> What 1) are the dimensions of this dataset, and 2) an effecitve visualization? </p>

A dataset on US GDP between 2015 and 2015.

```{python}
# GDP over time
data = pd.read_csv('data/wrapup_08.csv', index_col=0)
data.head().style.hide(axis="index")
```

. . .

Data Dimensions:

1. **Data Structure**: Timeseries
2. **Number of Variables**: Univariate
3. **Variable Type(s)**: Numerical

---

## Exercise 8: GDP After 2015
<p class="subheader"> What 1) are the dimensions of this dataset, and 2) an effecitve visualization? </p>

![](i/wrapup_08.png)

A ***Linegraph*** effectively visualizes

1. Timeseries
2. Numerical
3. Univariate

---

## Exercise 9: Inflation and Unemployment
<p class="subheader"> What 1) are the dimensions of this dataset, and 2) an effecitve visualization? </p>

A dataset on inflation and unemployment after 2015.

```{python}
# Unemployment rate and inflation
data = pd.read_csv('data/wrapup_09.csv', index_col=0)
data.head().style.hide(axis="index")
```

. . .

Data Dimensions:

1. **Data Structure**: Timeseries
2. **Number of Variables**: Bivariate
3. **Variable Type(s)**: Numerical

---

## Exercise 9: Inflation and Unemployment
<p class="subheader"> What 1) are the dimensions of this dataset, and 2) an effecitve visualization? </p>

![](i/wrapup_09_alt.png)

A ***Scatterplot*** *(or sometimes a multilinegraph)* effectively visualizes

1. Timeseries
2. Numerical
3. Bivariate

---

## Exercise 9: Inflation and Unemployment
<p class="subheader"> What 1) are the dimensions of this dataset, and 2) an effecitve visualization? </p>

![](i/wrapup_09.png)

A ***Scatterplot*** *(or sometimes a multilinegraph)* effectively visualizes

1. Timeseries
2. Numerical
3. Bivariate

---

## Exercise 10: GDP Growth by Country
<p class="subheader"> What 1) are the dimensions of this dataset, and 2) an effecitve visualization? </p>

A dataset on GDP growth by country after 2020.

```{python}
# GDP for multiple countries
data = pd.read_csv('data/wrapup_10.csv', index_col=0)
data.head().style.hide(axis="index")
```

---

## Exercise 10: GDP Growth by Country
<p class="subheader"> What 1) are the dimensions of this dataset, and 2) an effecitve visualization? </p>

![](i/wrapup_10.png)

A ***Multi-Linegraph*** *(or sometimes a scatterplot)* effectively visualizes

1. Panel
2. Numerical
3. Univariate
