"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[4269],{64269:(e,t,n)=>{n.d(t,{X:()=>O,j:()=>L});var i=n(5544),l=n(58168),a=n(95964),o=n(96540),r=n(27721),s=n(86329),u=n(1722),d=n(79647),c=n(52290),m=n(86527),p=n(99731),b=n(3005),h=n(48198),k=n(36557),y=n(95107),v=n(66305),E=n(42976),f=n(91830),g=n(50684),S=n(75599),N=n(39160),w=n(18642),x=n(27507),I=n(48642),T=n(56921),D=n(79959),A=n(46879),B={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PostPublishedDialogQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostPublishedDialog_post"}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PostPublishedDialog_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"inResponseToPostResult"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",name:{kind:"Name",value:"inResponseToCatalogResult"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",name:{kind:"Name",value:"visibility"}},{kind:"Field",name:{kind:"Name",value:"curationEligibleAt"}},{kind:"Field",name:{kind:"Name",value:"mediumUrl"}},{kind:"Field",name:{kind:"Name",value:"isNewsletter"}},{kind:"Field",name:{kind:"Name",value:"isPublishToEmail"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"isMarkedPaywallOnly"}}]}}]},F=n(12731),R=function(){return o.createElement(c.a,null,o.createElement(m.N,{inline:!0,linkStyle:"OBVIOUS",href:(0,A.BdX)()},"Learn more")," ","about what happens to your story when you publish.")};var L,P=function(e){var t=e.url,n=e.label,i=e.post,a=e.isFriendLink,r=void 0!==a&&a,s=e.testId,u={postId:null==i?void 0:i.id,source:"post_publish_dialog"};return o.createElement(T.B,(0,l.A)({url:t},u),(function(e){return o.createElement(c.a,{marginBottom:"8px"},o.createElement(p.$n,{"data-testid":null!=s?s:"publishSuccessCopyLinkButton",buttonStyle:"SOCIAL",size:"LARGE",padding:p.Rc,width:p.Gk,onClick:function(e){return e}},o.createElement(c.a,{display:"flex",alignItems:"center",justifyContent:"space-between"},r?o.createElement(x.A,null):o.createElement(I.A,null),e?"Copied!":n,o.createElement(c.a,{height:"24px",width:"24px"}))))}))},_=function(e){var t=e.post,n=e.isUnlisted,i=e.postPath;return o.createElement(c.a,{display:"flex",flexDirection:"column",alignItems:"center"},o.createElement(k.kZ,{color:"DARKER",scale:"L"},function(e){return e?"Share your story outside Medium.":"Share your story with the world."}(n)),o.createElement(c.a,{marginTop:"20px"},!n&&o.createElement(o.Fragment,null,o.createElement(d._,{socialPlatform:"FACEBOOK",buttonStyle:"BUTTON_BRANDED",postId:t.id,testId:"publishSuccessShareFbButton"}),o.createElement(c.a,{marginBottom:"12px"}),o.createElement(d._,{socialPlatform:"TWITTER",buttonStyle:"BUTTON_BRANDED",postId:t.id,testId:"publishSuccessShareTwitterButton"}),o.createElement(c.a,{marginBottom:"12px"}),o.createElement(d._,{socialPlatform:"LINKEDIN",buttonStyle:"BUTTON_BRANDED",postId:t.id,testId:"publishSuccessShareLinkedinButton"}),o.createElement(c.a,{marginBottom:"12px"})),o.createElement(P,{url:i,label:"Copy link",post:t})))},C=function(e){var t=e.viewerId,n=e.isVisible,i=e.hide,l=e.post,a=(0,F.bt)(),r=l.id,s=l.visibility,d=l.curationEligibleAt,p=l.mediumUrl,v=l.isNewsletter,f=l.isPublishToEmail,g=l.isMarkedPaywallOnly,S=l.creator,x=(0,u.h)(l),I=x.viewerEdge,T=x.loading,B="UNLISTED"===s,L=!!d,C=(null==I?void 0:I.creatorPartnerProgramEnrollmentStatus)===E.$X.ENROLLED,O=null==I?void 0:I.shareKey,U=(0,N.d4)((function(e){return e.config.productName})),V="Your story is published!";return f&&t===(null==S?void 0:S.id)?V="Your story has been published and sent!":v&&(V="Your newsletter is on its way!"),(0,o.useEffect)((function(){n&&a()}),[n]),T?null:o.createElement(b.l,{isVisible:n,hide:i,withAnimation:!0,withCloseButton:!1},o.createElement(c.a,{background:w.ON,borderRadius:"4px",boxShadow:"0 2px 10px ".concat((0,w.qy)(.15)),position:"relative",textAlign:"center",width:{xs:"calc(100vw - 128px)",sm:"calc(100vw - 128px)",md:"600px",lg:"900px",xl:"900px"}},o.createElement(c.a,{padding:"56px",display:"flex",flexDirection:"column",justifyContent:"center",minHeight:"485px"},o.createElement(c.a,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},o.createElement(y.mz,{scale:"L",tag:"h3",testId:"publishSuccessTitleText"},V),o.createElement(c.a,{maxWidth:"520px",marginTop:"20px"},o.createElement(k.kZ,{color:"DARKER",scale:"L",testId:"publishSuccessBodyText"},function(e,t,n,i,l,a){return i?function(e,t){return e?"Your email will be delivered to your newsletter subscribers and editors, but will not appear publicly on ".concat(t,"."):o.createElement(o.Fragment,null,"Your subscribers and editors should have it soon. It’ll also show up on ",t," readers’ homepages and Digest emails depending on their interests."," ",o.createElement(m.N,{inline:!0,linkStyle:"OBVIOUS",href:"https://help.medium.com/hc/en-us/articles/115004682167-How-to-use-Newsletters"},"Learn more"))}(e,a):e?"Your unlisted story will not appear publicly on ".concat(a,", but you can still share it."):l?"You've chosen this story to be member-only. Anyone can see a short preview but only paying members can read the full story.":n?t?o.createElement(o.Fragment,null,"As a member of the Partner Program, you’ve chosen to make this story eligible to earn money by placing it behind the paywall.",o.createElement(R,null)):o.createElement(o.Fragment,null,"You did not choose to paywall this story, so it won't be eligible to earn money.",o.createElement(R,null)):o.createElement(o.Fragment,null,"This story isn’t currently eligible to earn money. To make this story eligible, join the"," ",a," Partner Program."," ",o.createElement(m.N,{inline:!0,linkStyle:"OBVIOUS",href:"https://medium.com/earn"},"Learn more."))}(B,L,C,v,null!=g&&g,U))),o.createElement(c.a,{paddingTop:"20px"},L&&!B&&p&&O&&o.createElement(P,{url:(0,D.ST)((0,A.us)(l),{sk:O}),label:"Copy Friend Link",post:l,isFriendLink:!0,testId:"publishSuccessCopyFriendLinkButton"})),o.createElement(c.a,{borderBottom:"neutral.primary",width:"100%",margin:"20px 0"})),r&&p&&o.createElement(_,{post:l,isUnlisted:B,postPath:(0,A.us)(l)})),o.createElement(h.J,{onClick:i,size:"LARGE",testId:"publishSuccessCloseButton"})))};!function(e){e.initial="initial",e.repub="repub",e.approveInPublication="approve-in-publication"}(L||(L={}));var O=function(e){var t,n,l=e.post,u=(0,g.pE)("postPublishedType"),d=(0,a.IT)(B,{variables:{postId:l.id},skip:u!==L.initial}),c=d.data,m=(c=void 0===c?{}:c).post,p=d.loading,b=(0,r.R)().value,h=(0,o.useState)(!1),k=(0,i.A)(h,2),y=k[0],E=k[1],N=(0,o.useCallback)((function(){return E(!1)}),[E]),w=(0,S.w)(),x=(0,s.J)(null===(t=l.collection)||void 0===t?void 0:t.id).viewerEdge,I=(null==b?void 0:b.id)===(null===(n=l.creator)||void 0===n?void 0:n.id)||l.collection&&(null==x?void 0:x.isEditor);(0,o.useEffect)((function(){switch(u){case L.initial:E(!0);break;case L.repub:w((0,f.MZ)({duration:3e3,message:"Your changes have been published."}));break;case L.approveInPublication:w((0,f.MZ)({duration:3e3,message:"The story has been published to your publication."}))}}),[u]);var T=(0,o.useState)(!1),D=(0,i.A)(T,2),A=D[0],F=D[1];return A?p||!m||m.inResponseToPostResult||m.inResponseToCatalogResult?null:b&&I?o.createElement(C,{isVisible:y,hide:N,post:m,viewerId:b.id}):null:(v.R5.on("load",(function(){return F(!0)})),null)}},56921:(e,t,n)=>{n.d(t,{B:()=>s});var i=n(5544),l=n(96540),a=n(52290),o=n(86527),r=n(34317),s=function(e){var t=e.url,n=e.onCopy,s=e.children,u=e.flexGrow,d=e.linkStyle,c=e.postId,m=e.source,p=l.useState(!1),b=(0,i.A)(p,2),h=b[0],k=b[1],y=l.useState(null),v=(0,i.A)(y,2),E=v[0],f=v[1],g=l.useRef(null),S=(0,r.$L)();l.useEffect((function(){return function(){E&&clearTimeout(E)}}),[]);var N=l.useCallback((function(){n&&n();var e=g.current;if(e){if(e.disabled=!1,e.select(),e){var t=document.createRange();t.selectNode(e);var i=window.getSelection();i&&i.addRange(t),e.setSelectionRange(0,e.value.length),document.execCommand("copy"),(i=window.getSelection())&&i.removeAllRanges()}e.disabled=!0,k(!0),E&&clearTimeout(E),f(setTimeout((function(){return k(!1)}),2e3))}}),[]);return l.createElement(a.a,{display:"flex",alignItems:"flex-start",flexGrow:u},l.createElement("form",null,l.createElement("input",{disabled:!0,readOnly:!0,type:"text",ref:g,value:t,style:{position:"fixed",top:"-100vh"}}),l.createElement(o.N,{onClick:function(e){e.preventDefault(),S.event("copyStoryLink.clicked",{postId:c,source:m}),N()},linkStyle:d||"OBVIOUS"},s(h))))}}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/4269.56ac711a.chunk.js.map